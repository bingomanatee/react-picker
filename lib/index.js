!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react"),require("prop-types"),require("@wonderlandlabs/looking-glass-engine"),require("lodash.isequal")):"function"==typeof define&&define.amd?define(["react","prop-types","@wonderlandlabs/looking-glass-engine","lodash.isequal"],t):(e=e||self).LGE=t(e.React,e.PropTypes,e.lookingGlassEngine,e.isEqual)}(this,(function(e,t,o,r){"use strict";var n="default"in e?e.default:e;function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r])}return e}).apply(this,arguments)}function i(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?i(Object(o),!0).forEach((function(t){a(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var o=[],r=!0,n=!1,a=void 0;try{for(var l,i=e[Symbol.iterator]();!(r=(l=i.next()).done)&&(o.push(l.value),!t||o.length!==t);r=!0);}catch(e){n=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(n)throw a}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return p(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,r=new Array(t);o<t;o++)r[o]=e[o];return r}t=t&&t.hasOwnProperty("default")?t.default:t,r=r&&r.hasOwnProperty("default")?r.default:r;var m=n.createContext({});function d(t){return e.createElement("svg",l({width:30,height:30},t),e.createElement("defs",null,e.createElement("radialGradient",{cx:"41.692%",cy:"37.355%",fx:"41.692%",fy:"37.355%",r:"91.272%",gradientTransform:"matrix(.7541 .62324 -.60098 .78203 .327 -.178)",id:"check-off_svg__a"},e.createElement("stop",{stopColor:"#FFF",offset:"0%"}),e.createElement("stop",{stopColor:"#FFF",offset:"28.096%"}),e.createElement("stop",{stopColor:"#D6D6D6",offset:"55.752%"}),e.createElement("stop",{stopColor:"#989898",offset:"100%"}))),e.createElement("rect",{width:28,height:27,rx:3,transform:"translate(1 1)",fill:"url(#check-off_svg__a)",fillRule:"evenodd"}))}function y(t){return e.createElement("svg",l({width:30,height:30},t),e.createElement("defs",null,e.createElement("radialGradient",{cx:"41.692%",cy:"37.355%",fx:"41.692%",fy:"37.355%",r:"91.272%",gradientTransform:"matrix(.7541 .62324 -.60098 .78203 .327 -.178)",id:"check-on_svg__a"},e.createElement("stop",{stopColor:"#FFF",offset:"0%"}),e.createElement("stop",{stopColor:"#FFF",offset:"28.096%"}),e.createElement("stop",{stopColor:"#D6D6D6",offset:"55.752%"}),e.createElement("stop",{stopColor:"#989898",offset:"100%"})),e.createElement("radialGradient",{cx:"41.692%",cy:"37.355%",fx:"41.692%",fy:"37.355%",r:"91.329%",gradientTransform:"scale(.96329 1) rotate(38.524 .425 .396)",id:"check-on_svg__b"},e.createElement("stop",{stopColor:"#FFF",offset:"0%"}),e.createElement("stop",{stopColor:"#FFF",offset:"28.096%"}),e.createElement("stop",{stopColor:"#D6D6D6",offset:"55.752%"}),e.createElement("stop",{stopColor:"#989898",offset:"100%"}))),e.createElement("g",{transform:"translate(-306 -288)",fill:"none",fillRule:"evenodd"},e.createElement("rect",{width:28,height:27,rx:3,transform:"translate(307 289)",fill:"url(#check-on_svg__a)"}),e.createElement("rect",{fill:"#7ED321",style:{mixBlendMode:"multiply"},x:307,y:289,width:28,height:27,rx:3}),e.createElement("path",{d:"M335 292v6.528l-13.463 13.463-5.444-5.444.03-.032-4.669-4.668 4.514-4.514 4.67 4.669 12.691-12.692A3 3 0 01335 292z",fill:"url(#check-on_svg__b)"})))}function h(t){return e.createElement("svg",l({width:30,height:30},t),e.createElement("defs",null,e.createElement("radialGradient",{cx:"41.692%",cy:"37.355%",fx:"41.692%",fy:"37.355%",r:"93.279%",gradientTransform:"matrix(.73787 .60983 -.56777 .79253 .321 -.177)",id:"radio-off_svg__a"},e.createElement("stop",{stopColor:"#FFF",offset:"0%"}),e.createElement("stop",{stopColor:"#FFF",offset:"28.096%"}),e.createElement("stop",{stopColor:"#D6D6D6",offset:"55.752%"}),e.createElement("stop",{stopColor:"#989898",offset:"100%"}))),e.createElement("ellipse",{cx:14.5,cy:13.5,rx:14.5,ry:13.5,transform:"translate(0 1)",fill:"url(#radio-off_svg__a)",fillRule:"evenodd"}))}function E(t){return e.createElement("svg",l({width:30,height:30},t),e.createElement("defs",null,e.createElement("radialGradient",{cx:"41.692%",cy:"37.355%",fx:"41.692%",fy:"37.355%",r:"95.312%",gradientTransform:"matrix(.72213 .59683 -.53714 .80237 .316 -.175)",id:"radio-on_svg__a"},e.createElement("stop",{stopColor:"#FFF",offset:"0%"}),e.createElement("stop",{stopColor:"#FFF",offset:"28.096%"}),e.createElement("stop",{stopColor:"#D6D6D6",offset:"55.752%"}),e.createElement("stop",{stopColor:"#989898",offset:"100%"})),e.createElement("radialGradient",{cx:"41.692%",cy:"37.355%",fx:"41.692%",fy:"37.355%",r:"97.074%",gradientTransform:"matrix(.70903 .586 -.51274 .81032 .313 -.173)",id:"radio-on_svg__b"},e.createElement("stop",{stopColor:"#FFF",offset:"0%"}),e.createElement("stop",{stopColor:"#FFF",offset:"40.81%"}),e.createElement("stop",{stopColor:"#989898",offset:"100%"}))),e.createElement("g",{transform:"translate(-306 -255)",fill:"none",fillRule:"evenodd"},e.createElement("ellipse",{cx:15,cy:13.5,rx:15,ry:13.5,transform:"translate(306 256)",fill:"url(#radio-on_svg__a)"}),e.createElement("ellipse",{fill:"#7ED321",style:{mixBlendMode:"multiply"},cx:321,cy:269.5,rx:15,ry:13.5}),e.createElement("path",{d:"M331.977 259.167c1.961 1.908 3.327 4.35 3.82 7.07l-13.746 13.744-5.444-5.444.03-.032-4.669-4.668 4.514-4.514 4.67 4.669z",fill:"url(#radio-on_svg__b)"})))}var g=function(t){var o,r=t.active,a=t.children,l=t.onClick,i=e.useContext(m).store;return o=r?i.my.chooseOne?E:y:i.my.chooseOne?h:d,n.createElement("div",{className:"picker__item",active:r,onClick:l},n.createElement(o,null),n.createElement("label",null,a))};g.propTypes={active:t.bool,children:t.elementType};var v=function(t){t.children;var o=t.Item,r=e.useContext(m),a=r.value,l=r.store;return a&&a.display?(o||(o=g),n.createElement("section",{className:"picker__container"},a.options.map((function(e){var t=a.choices.some((function(t){return l.my.comparator.isEqual(t,e)})),r="string"==typeof e?e:e.label;return n.createElement(o,{store:l,active:t,option:e,onClick:function(){return l.do.chooseOption(e)}},r)})))):""};v.propTypes={Item:t.elementType};var b=Object.freeze({__proto__:null,ChoiceItem:g,ChoiceContainer:v}),C=function(t){var a=c(e.useState(!1),2),l=a[0],i=a[1],u=c(e.useState(null),2),p=u[0],d=u[1];e.useEffect((function(){var e=function(e){return new o.ValueStoreObject({options:e.options||[],choices:e.choices||[],display:!!e.display,chooseOne:!!e.chooseOne,comparator:{isEqual:r}},{actions:{chooseOption:function(e,t){e.my.chooseOne?e.do.setChoices([t]):e.do.toggleOption(t)},toggleOption:function(e,t){e.my.choices.some((function(o){return e.my.comparator.isEqual(o,t)}))?e.my.chooseOne?e.do.setChoices([]):e.do.setChoices(e.my.choices.filter((function(o){return!e.my.comparator.isEqual(o,t)}))):e.my.chooseOne?e.do.setChoices([t]):e.do.setChoices([].concat(f(e.my.choices),[t]))},toggleDisplay:function(e){e.do.setDisplay(!e.my.display)},addAll:function(e){e.do.setChoices(f(e.my.options))},remAll:function(e){e.do.setChoices([])}}})}(t);t.onStore&&t.onStore(e),i(e);var n,a=e.subscribe(d,(function(e){return console.log("error:",e)}));return t.onChoices&&(n=e.watch("choices").subscribe((function(e){var o=e.choices;return t.onChoices(o)}))),function(){a.unsubscribe(),n&&n.unsubscribe()}}),[]);var y=t.display,h=t.options;if(e.useEffect((function(){l&&"display"in t&&!!t.display!=!!l.my.display&&l.do.setDisplay(!!t.display)}),[y]),e.useEffect((function(){l&&Array.isArray(t.options)&&l.do.setOptions(t.options)}),[h]),!l||!p)return"";var E=s(s({},b),t),g=E.ChoiceContainer,v=E.ChoiceItem;return n.createElement(m.Provider,{value:{value:p,store:l}},t.children,n.createElement(g,{Item:v}))};return C.propTypes={ChoiceContainer:t.elementType,ChoiceItem:t.elementType,options:t.arrayOf(t.oneOfType([t.string,t.shape({label:t.string})])),onChoices:t.func,onStore:t.func,display:t.bool,chooseOne:t.bool,children:t.any},C.defaultProps={options:[]},{Picker:C,ChoiceContext:m,CheckOn:y,CheckOff:d,RadioOn:E,RadioOff:h}}));
